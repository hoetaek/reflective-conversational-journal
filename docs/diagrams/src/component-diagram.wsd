@startuml
skinparam defaultTextAlignment center
skinparam dpi 300
skinparam padding 2

skinparam rectangle {
    BackgroundColor #F8F8F8
    BorderColor #333333
    RoundCorner 5
}
skinparam database {
    BackgroundColor #E8F4E8
    BorderColor #2E7D32
}

left to right direction

actor "User" as user

package "RCJ System" {
    rectangle "UI\nComponent" as UI
    
    rectangle "Context\nProvider" as Context {
        label "프로필 + 최근 3일\n+ 시간 정보" as CL
    }
    
    rectangle "Persona\nComponent" as Persona {
        label "Rogers\nSocrates\nDweck" as PL
    }
    
    rectangle "Recording\nComponent" as Recording {
        label "Free Notes\n→ Reflections\n→ Insights" as RL
    }
    
    database "Storage\n(3계층)" as Storage {
        label "L1: 오늘 저널\nL2: 최근 3일\nL3: 프로필" as SL
    }
}

' 데이터 흐름
user --> UI : 입력
UI ..> Persona : 전달
Context ..> Persona : 맥락 제공
Storage ..> Context : 읽기
Persona ..> Recording : 기록 요청
Recording ..> Storage : 저장
Storage ..> UI : 표시

@enduml