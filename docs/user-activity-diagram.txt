@startuml
start
:사용자가 Claude Code 실행;
:SessionStart Hook 발동;
if (프로필.md 존재?) then (없음)
  :Hook이 AI에게 /profile 실행 지시;
  :AI가 /profile 명령 실행;
  :AI와 자연스러운 대화로 개인 맥락 파악;
  :프로필.md 생성;
  :AI가 /journal 명령 실행 (/profile 완료 시);
else (있음)
  :Hook이 프로필 + 최근 3일 저널 경로 제공;
  :AI가 파일 읽기;
  :AI가 /journal 명령 실행;
endif
:AI가 프로필 기반 성찰 대화;
:What → So What → Now What 구조화된 성찰;
:일일 저널 작성 완료;
if (일주일 경과?) then (Yes)
  :사용자가 /weekly 입력;
  :일주일 저널 분석 및 패턴 발견;
  :주간 회고 생성;
endif
stop
@enduml