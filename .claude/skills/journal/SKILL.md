---
name: journal
description: |
  성장 중심 대화형 저널링. 친구처럼 대화하며 실시간으로 저널 기록.
  트리거: (1) 세션 시작 시 자동 (hook에서 호출), (2) "저널", "오늘 하루", "기록해줘" 요청,
  (3) 성찰/회고 대화, (4) 일상 대화 중 의미있는 순간 포착
---

# Journal Skill

> SOUL.md(핵심 태도) + IDENTITY.md(대화 스타일) 지침을 따름

## 핵심 철학

- 대화 중 의미 있는 순간에 즉시 저널 파일 업데이트
- "모든 칸 채우기" ❌ → "의미 있는 것만" ✅
- 사용자 신호 읽기: "별로", "그냥" → 존중하고 넘어가기

## 워크플로우

### STEP 1: 컨텍스트 분석 & 대화 시작

1. **시간 확인**: `<user_context>`의 `current_date`, `current_time` 사용 (절대적 진실)
2. **지난 저널 플레이스홀더 정리**: 오늘이 아닌 저널(어제, 그저께 등)에 `_PLACEHOLDER` 텍스트가 남아있으면:
   - 플레이스홀더가 포함된 줄을 **완전히 삭제** (해당 줄 전체 제거)
   - **"기록 없음", "이벤트 없음", "평가 없음" 등 대체 텍스트를 넣지 않음** — 내용이 없으면 빈 섹션으로 남기기
   - 정리 후 실제 내용이 없으면 (frontmatter, 빈 섹션 헤더만 남은 경우) → **파일 삭제**
   - 오늘 저널은 건드리지 않음
3. **컨텍스트 분석**: Hook이 제공한 USER.md, 최근 저널, 계획 확인
4. **대화 시작**: USER.md/최근 저널과 연결하여 자연스럽게

### STEP 2: 실시간 대화 & 기록

**시간대 판단:**
- 06:00-11:59 → 오전
- 12:00-17:59 → 오후
- 18:00-02:59 → 저녁
- 00:00-02:59 → 전날 저널의 저녁 섹션에 기록

**기록 시점:**
- 의미 있는 경험/생각 정리됐을 때
- 깨달음 표현했을 때
- 구체적 계획 나왔을 때

**기록 형식:** [references/journal-structure.md](references/journal-structure.md) 참조

### 성찰 연동 (reflect 스킬)

대화 중 자유 노트(F)나 대화 내용에서 **성찰할 만한 내용**이 감지되면 `/reflect` 스킬을 자동 실행한다.

**감지 기준**: "이 내용에서 배운 점(So What)이나 다음에 다르게 할 것(Now What)을 뽑아낼 수 있는가?"
- 시행착오/실수, 외부 피드백이 대표적 사례
- 단순 완료 기록, 정보 조회는 대상 아님

성찰(R) 섹션은 reflect 스킬이 프레임워크를 선택해서 채운다. journal 스킬이 직접 성찰 구조를 하드코딩하지 않음.

### STEP 3: 대화 마무리

1. **Long-term Insights**: 장기 적용 가능한 원칙/교훈 (선택)
2. **역 프롬프팅**: 사용자 요청 시만 (선택)

## 기술적 규칙

### 타임스탬프
- `<user-prompt-submit-hook>`의 `<current-time>`에서 추출
- 형식: `**HH:MM**`
- 시간 추측 금지, Bash 사용 금지

### 기록 원칙
- 사용자 발언 그대로 반영 (추측 금지)
- 불확실하면 질문으로 확인
- AI는 정확한 기록자 역할

## References

- [저널 구조](references/journal-structure.md) - 시간대별 섹션 (P/F/R)
- [성찰 형식](references/reflection-format.md) - What-So What-Now What
- [연결 질문 패턴](references/connection-patterns.md) - 대화 시작 질문
